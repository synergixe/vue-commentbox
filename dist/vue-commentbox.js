!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("VueCommentBox",[],t):"object"==typeof exports?exports.VueCommentBox=t():e.VueCommentBox=t()}(window,function(){return o={},r.m=n=[function(e,t,n){e.exports=n(10)},function(e,t,n){var o=n(11),r=n(12),a=n(13);e.exports=function(e,t){return o(e)||r(e,t)||a()}},function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=o=function(e){return n(e)}:t.exports=o=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},o(e)}t.exports=o},function(){},function(){},function(){},function(){},function(){},function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}},function(e){var t=function(a){"use strict";var l,e=Object.prototype,s=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function i(e,t,n,o){var r=t&&t.prototype instanceof c?t:c,a=Object.create(r.prototype),i=new k(o||[]);return a._invoke=function(a,i,c){var l=d;return function(e,t){if(l===f)throw new Error("Generator is already running");if(l===p){if("throw"===e)throw t;return R()}for(c.method=e,c.arg=t;;){var n=c.delegate;if(n){var o=S(n,c);if(o){if(o===h)continue;return o}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(l===d)throw l=p,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);l=f;var r=u(a,i,c);if("normal"===r.type){if(l=c.done?p:m,r.arg===h)continue;return{value:r.arg,done:c.done}}"throw"===r.type&&(l=p,c.method="throw",c.arg=r.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=i;var d="suspendedStart",m="suspendedYield",f="executing",p="completed",h={};function c(){}function v(){}function g(){}var y={};y[r]=function(){return this};var x=Object.getPrototypeOf,b=x&&x(x(L([])));b&&b!==e&&s.call(b,r)&&(y=b);var C=g.prototype=c.prototype=Object.create(y);function w(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function T(l){var t;this._invoke=function(n,o){function e(){return new Promise(function(e,t){!function t(e,n,o,r){var a=u(l[e],l,n);if("throw"!==a.type){var i=a.arg,c=i.value;return c&&"object"==typeof c&&s.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,o,r)},function(e){t("throw",e,o,r)}):Promise.resolve(c).then(function(e){i.value=e,o(i)},function(e){return t("throw",e,o,r)})}r(a.arg)}(n,o,e,t)})}return t=t?t.then(e,e):e()}}function S(e,t){var n=e.iterator[t.method];if(n===l){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=l,S(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=u(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=l),t.delegate=null,h):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(s.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=l,e.done=!0,e};return o.next=o}}return{next:R}}function R(){return{value:l,done:!0}}return v.prototype=C.constructor=g,g.constructor=v,g[o]=v.displayName="GeneratorFunction",a.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(C),e},a.awrap=function(e){return{__await:e}},w(T.prototype),T.prototype[n]=function(){return this},a.AsyncIterator=T,a.async=function(e,t,n,o){var r=new T(i(e,t,n,o));return a.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},w(C),C[o]="Generator",C[r]=function(){return this},C.toString=function(){return"[object Generator]"},a.keys=function(n){var o=[];for(var e in n)o.push(e);return o.reverse(),function e(){for(;o.length;){var t=o.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=L,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=l)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var o=this;function e(e,t){return a.type="throw",a.arg=n,o.next=e,t&&(o.method="next",o.arg=l),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t],a=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var i=s.call(r,"catchLoc"),c=s.call(r,"finallyLoc");if(i&&c){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(i){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&s.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;E(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=l),h}},a}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},function(e){e.exports=function(e){if(Array.isArray(e))return e}},function(e){e.exports=function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(o=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(r)throw a}}return n}},function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){"use strict";var o=n(3);n.n(o).a},function(e,t,n){"use strict";var o=n(4);n.n(o).a},function(e,t,n){"use strict";var o=n(5);n.n(o).a},function(e,t,n){"use strict";var o=n(6);n.n(o).a},function(e,t,n){"use strict";var o=n(7);n.n(o).a},function(e,t,n){"use strict";n.r(t);var o=n(0),f=n.n(o),r=n(8),w=n.n(r),a=n(9),c=n.n(a),i=n(1),p=n.n(i),l=n(2),h=n.n(l);function s(){!function(){if("undefined"==typeof FormData||!FormData.prototype.keys){var s=function(e){var t=p()(e,2),n=t[0],o=t[1];return n instanceof Blob&&(n=new File([n],o,{type:n.type,lastModified:n.lastModified})),n},e=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");return[e+""]},t=function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only ".concat(arguments.length," present."));return t instanceof Blob?[e+"",t,void 0!==n?n+"":"string"==typeof t.name?t.name:"Blob"]:[e+"",t+""]},u="object"===("undefined"==typeof window?"undefined":h()(window))?window:"object"===("undefined"==typeof self?"undefined":h()(self))?self:this,d=u.FormData,n=u.XMLHttpRequest&&u.XMLHttpRequest.prototype.send,o=u.Request&&u.fetch,a=u.Symbol&&Symbol.toStringTag,x=new WeakMap,m=function(e){return x.get(e)},b=Array.from||function(e){return[].slice.call(e)};a&&("Blob"in u&&!Blob.prototype[a]&&(Blob.prototype[a]="Blob"),"File"in u&&!File.prototype[a]&&(File.prototype[a]="File"));try{new File([],"")}catch(e){u.File=function(e,t,n){var o=new Blob(e,n),r=n&&void 0!==n.lastModified?new Date(n.lastModified):new Date;return Object.defineProperties(o,{name:{value:t},lastModifiedDate:{value:r},lastModified:{value:+r},toString:{value:function(){return"[object File]"}}}),a&&Object.defineProperty(o,a,{value:"File"}),o}}var r=(c()(C,[{key:"append",value:function(e,t,n){var o=m(this);o[e]||(o[e]=[]),o[e].push([t,n])}},{key:"delete",value:function(e){delete m(this)[e]}},{key:"entries",value:f.a.mark(function e(){var t,n,o,r,a,i,c,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=m(this),e.t0=f.a.keys(t);case 2:if((e.t1=e.t0()).done){e.next=32;break}n=e.t1.value,r=!(o=!0),a=void 0,e.prev=7,i=t[n][Symbol.iterator]();case 9:if(o=(c=i.next()).done){e.next=16;break}return l=c.value,e.next=13,[n,s(l)];case 13:o=!0,e.next=9;break;case 16:e.next=22;break;case 18:e.prev=18,e.t2=e.catch(7),r=!0,a=e.t2;case 22:e.prev=22,e.prev=23,o||null==i.return||i.return();case 25:if(e.prev=25,r)throw a;e.next=28;break;case 28:return e.finish(25);case 29:return e.finish(22);case 30:e.next=2;break;case 32:case"end":return e.stop()}},e,this,[[7,18,22,30],[23,,25,29]])})},{key:"forEach",value:function(e,t){var n=!0,o=!1,r=void 0;try{for(var a,i=this[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var c=p()(a.value,2),l=c[0],s=c[1];e.call(t,s,l,this)}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}}},{key:"get",value:function(e){var t=m(this);return t[e]?s(t[e][0]):null}},{key:"getAll",value:function(e){return(m(this)[e]||[]).map(s)}},{key:"has",value:function(e){return e in m(this)}},{key:"keys",value:f.a.mark(function e(){var t,n,o,r,a,i,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!(t=!0),o=void 0,e.prev=3,r=this[Symbol.iterator]();case 5:if(t=(a=r.next()).done){e.next=12;break}return i=p()(a.value,1),c=i[0],e.next=9,c;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,o=e.t0;case 18:e.prev=18,e.prev=19,t||null==r.return||r.return();case 21:if(e.prev=21,n)throw o;e.next=24;break;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25]])})},{key:"set",value:function(e,t,n){m(this)[e]=[[t,n]]}},{key:"values",value:f.a.mark(function e(){var t,n,o,r,a,i,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!(t=!0),o=void 0,e.prev=3,r=this[Symbol.iterator]();case 5:if(t=(a=r.next()).done){e.next=12;break}return(i=p()(a.value,2))[0],c=i[1],e.next=9,c;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,o=e.t0;case 18:e.prev=18,e.prev=19,t||null==r.return||r.return();case 21:if(e.prev=21,n)throw o;e.next=24;break;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25]])})},{key:"_asNative",value:function(){var e=new d,t=!0,n=!1,o=void 0;try{for(var r,a=this[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=p()(r.value,2),c=i[0],l=i[1];e.append(c,l)}}catch(e){n=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}return e}},{key:"_blob",value:function(){var e="----formdata-polyfill-"+Math.random(),t=[],n=!0,o=!1,r=void 0;try{for(var a,i=this[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var c=p()(a.value,2),l=c[0],s=c[1];t.push("--".concat(e,"\r\n")),s instanceof Blob?t.push('Content-Disposition: form-data; name="'.concat(l,'"; filename="').concat(s.name,'"\r\n'),"Content-Type: ".concat(s.type||"application/octet-stream","\r\n\r\n"),s,"\r\n"):t.push('Content-Disposition: form-data; name="'.concat(l,'"\r\n\r\n').concat(s,"\r\n"))}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}return t.push("--".concat(e,"--")),"function"==typeof u.Blob?new Blob(t,{type:"multipart/form-data; boundary="+e}):t.join("")}},{key:Symbol.iterator,value:function(){return this.entries()}},{key:"toString",value:function(){return"[object FormData]"}}]),C);if(a&&(r.prototype[a]="FormData"),[["append",t],["delete",e],["get",e],["getAll",e],["has",e],["set",t]].forEach(function(e){var t=r.prototype[e[0]];r.prototype[e[0]]=function(){return t.apply(this,e[1].apply(this,b(arguments)))}}),n&&(XMLHttpRequest.prototype.send=function(e){if(e instanceof r){var t=e._blob();this.setRequestHeader("Content-Type",t.type),n.call(this,t)}else n.call(this,e)}),o){var i=u.fetch;u.fetch=function(e,t){return t&&t.body&&t.body instanceof r&&(t.body=t.body._blob()),i(e,t)}}u.FormData=r}function C(e){if(w()(this,C),x.set(this,Object.create(null)),!e)return this;var t=!0,n=!1,o=void 0;try{for(var r,a=b(e.elements)[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value;if(i.name&&!i.disabled)if("file"===i.type){var c=!0,l=!1,s=void 0;try{for(var u,d=i.files[Symbol.iterator]();!(c=(u=d.next()).done);c=!0){var m=u.value;this.append(i.name,m)}}catch(e){l=!0,s=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw s}}}else if("SELECT"==i.nodeName||"select-multiple"===i.type||"select-one"===i.type){var f=!0,p=!1,h=void 0;try{for(var v,g=b(i.options)[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var y=v.value;y.selected&&this.append(i.name,y.value)}}catch(e){p=!0,h=e}finally{try{f||null==g.return||g.return()}finally{if(p)throw h}}}else"checkbox"===i.type||"radio"===i.type?i.checked&&this.append(i.name,i.value):this.append(i.name,i.value)}}catch(e){n=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}}}()}var u={sendHttpRequest:function(t,n){var o=this;return t&&1===t.nodeType&&"FORM"===t.nodeName?(installPromisePolyfill(),new Promise(function(){var e=o._xhrObject(t,n);e.addListener("load",function(){resolve(xhr.asBlob?responseBlob:xhr.responseText)}),e.send(n?new FormData(t):null)})):null},_xhrObject:function(e,t){var n,o=this;return t?(s(),window.XDomainRequest?(XDomainRequest.prototype.addListener=function(e,t){o["on"+e]=t},n=new XDomainRequest):window.XMLHttpRequest&&(XMLHttpRequest.prototype.addListener=function(e,t){o[e]=t},n=new XMLHttpRequest),n.open("POST",url,!0),n.withCredentials=!0):((n={})._sink=window.frames[e.target],n.addListener=function(e,t){"load"===e&&("number"==typeof document.documentMode&&document.documentMode<=8?o._sink.attachEvent("on"+e,t):o._sink.addEventListener(e,t,!1))},n.send=function(){e.submit()}),n}},d=(parseInt("1f1e6",16),parseInt("1f1ff",16),{smile:{code:128516,image:null},grin:{code:128513,image:null},"happy-surprise":{code:128515,image:null},"happy-tears":{code:128514,image:null},kiss:{code:128536,image:null},"cold-sweat":{code:128531,image:null},pensive:{code:128532,image:null},unamused:{code:128530,image:null},smirking:{code:128527,image:null},winking:{code:128521,image:null},relieved:{code:128524,image:null},dizzy:{code:128565,image:null},flushed:{code:128563,image:null},crying:{code:128546,image:null},sacarstic:{code:128540,image:null},"happy-excited":{code:128518,image:null},tired:{code:128555,image:null},confident:{code:128548,image:null},angry:{code:128544,image:null},"victory-hand":{code:9996,image:null},"raised-hand":{code:9995,image:null},"raised-fist":{code:9994,image:null}}),v={doesSupportEmoji:function(){var e,t;return!!document.createElement("canvas").getContext&&("function"==typeof(e=document.createElement("canvas").getContext("2d")).fillText&&(t=smile=String.fromCodePoint(d.smile.code),e.textBaseline="top",e.font="32px Arial",e.fillText(t,0,0),0!==e.getImageData(16,16,1,1).data[0]))},getImageForCodepoint:function(e){var t=document.createElement("IMG"),n=null,o=null;return t.style.width="1.4em",t.style.verticalAlign="top",v.doesSupportEmoji()?((n=document.createElement("canvas")).width="16",n.height="16",(o=n.getContext("2d")).textBaseline="top",o.font="32px Arial",o.fillText(String.fromCodePoint(e),0,0),t.src=n.toDataURL("image/png")):t.src="https://assets.github.com/images/icons/emoji/unicode/"+e.toString(16)+".png",t},replaceAllEmojiInAncestor:function(e){var t=v.getAllTextNodes(e),o=/([\ud800-\udbff])([\udc00-\udfff])/g;t.forEach(function(e){var t,n=e.nodeValue;n.match(o)&&(t=n.replace(o,function(e,t,n){var o=v.surrogatePairToCodepoint(t.charCodeAt(0),n.charCodeAt(0)),r=v.getImageForCodepoint(o);return v.convertDOMToHTML(r)}),e.parentNode.replaceChild(v.createAsFragment(t),e))})},createEmojiAsImageFromName:function(e){var t=d[e],n=null;return null===t.image&&(n=v.getImageForCodepoint(t.code),t.image=n),t.image.cloneNode(!0)},surrogatePairToCodepoint:function(e,t){return 1024*(e-55296)+(t-56320)+65536},getAllTextNodes:function(e){if(!document.createTreeWalker)return[];for(var t=["SCRIPT","OPTION","TEXTAREA","STYLE","IFRAME","INPUT"],n=[],o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,function(e){return 0<=t.indexOf(e.parentElement.nodeName.toUpperCase())?NodeFilter.FILTER_REJECT:String.prototype.trim&&!e.nodeValue.trim().length?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},!1);o.nextNode();)n.push(o.currentNode);return n},getCommonAncestor:function(e,t){var n=[],o=t;do{for(n.shift(e);n[0];){if(n[0]===o)return o;n.shift(n[0].parentNode)}n.length=0,n.push(o.parentNode),o=n.unshift()}while(o)},getElementsBetweenTree:function(e,t,n){for(var o=n||this.getCommonAncestor(e,t),r=[],a=[];e.parentNode!==o;){for(var i=e;i.nextSibling;)r.push(i=i.nextSibling);e=e.parentNode}for(;t.parentNode!==o;){for(i=t;i.previousSibling;)a.push(i=i.previousSibling);t=t.parentNode}for(a.reverse();(e=e.nextSibling)!==t;)r.push(e);return r.concat(a)},createAsFragment:function(e){var t;return e&&(t=v.convertHTMLToDOM(e)),t},textRangeToHTML:function(){var e=v.getCurrentTextRange(),t=v.getElementsBetweenTree(e.startContainer,e.endContainer,e.commonAncestorContainer);return v.convertDOMToHTML(t)},selectAllTextByOffset:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},o=n.position,r=n.length,a=void 0===r?0:r,i=v.convertHTMLToDOM(e.innerHTML),c=[v.convertHTMLToDOM('<a id="__selectionOffset_Start"></a>').lastChild,v.convertHTMLToDOM('<a id="__selectionOffset_End"></a>').lastChild],l=v.createAsFragment(null),s=null,u=null;e.innerHTML=v.convertDOMToHTML(v.setAnchorsAtOffsetOnFragment(i,-1,o,a,l,c)),s=document.getElementById("__selectionOffset_Start"),u=document.getElementById("__selectionOffset_End"),e.className.match(/\scurrently-selecting(\s|$)/)?(s&&s.parentNode.removeChild(s),u&&u.parentNode.removeChild(u)):s&&(window.getSelection?(range=document.createRange(),u?(range.setStartAfter(s),range.setEndBefore(u),s.parentNode.removeChild(s),u.parentNode.removeChild(u),selection.removeAllRanges(),selection.addRange(range)):(range.selectNode(s),selection.removeAllRanges(),selection.addRange(range),document.execCommand("delete",!1,null))):document.selection&&(range=document.body.createTextRange()))},setAnchorsAtOffsetOnFragment:function(e,t,n,o,r,a){for(var i=null,c=[].slice.call(e.childNodes),l=null,s=null,u=null,d=null,m=null;0!=c.length;)if(i=c.shift())if(1===i.nodeType)if(m=n+o-1-t,(d=n-t)<=0)if(r.lastChild&&1!==r.lastChild.nodeType)r.lastChild&&3!==r.lastChild.nodeType?r.lastChild&&3===r.lastChild.nodeType&&(0===d?r.appendChild(a.shift()):r.lastChild.data.length>Math.abs(d)&&(l=r.replaceNode(document.createTextNode(l.data.substring(0,l.data.length+u-1)),l),r.insertBefore(a.shift(),s),r.insertBefore(document.createTextNode(l.data.substring(l.data.length+u)),s))):0===d&&r.appendChild(a.shift());else if(0===d)r.appendChild(a.shift());else{if(l=r.lastChild,u=Math.abs(d),!l)throw"Miscalculation - Fragment cannot be empty!!";for(;(l=l.previousSibling)&&1===l.nodeType?0===--u&&r.insertBefore(a.shift(),l):l&&3===l.nodeType&&(l.data.length>=u?(l.data.length===u?r.insertBefore(a.shift(),l):(s=l.nextSibling,l=r.replaceNode(document.createTextNode(l.data.substring(0,l.data.length-u-1)),l),r.insertBefore(a.shift(),s),r.insertBefore(document.createTextNode(l.data.substring(l.data.length-u)),s)),u=0):u-=l.data.length),l&&0!=u;);}else if(0===i.childNodes.length)r.appendChild(i.cloneNode(!1)),t+=1;else{if(1!==i.childNodes.length||1!==i.childNodes[0].nodeType)return v.setAnchorsAtOffsetOnFragment(i,t,r,a);r.appendChild(i.cloneNode(!0)),t+=1}else if(3===i.nodeType)if((d=n-t)>i.data.length-1)t+=i.data.length;else if(0<=d&&(t+=0===d?1:d,null===r.lastChild&&r.appendChild(a.shift()),a.length)){if(m=n+o-1-t,i.data.length>=d+m){0<d?r.appendChild(document.createTextNode(i.data.substring(d-1,m))):r.appendChild(document.createTextNode(i.data.substring(d,m))),r.appendChild(a.shift());break}r.lastChild&&3===r.lastChild.nodeType?r.lastChild.appendData(i.data.substring(0<d?d-1:d)):r.lastChild&&1===r.lastChild.nodeType&&r.appendChild(document.createTextNode(i.data.substring(0<d?d-1:d))),t+=m-1}return r},convertDOMToHTML:function(e){var t=null,n=-1,o=document.createElement("div");if(!e)return t;if("number"==typeof e.length||e instanceof Array){for(n=e.length;n;)o.appendChild(e[n-1]),--n;t=o.innerHTML}return 1===e.nodeType?t=e.outerHTML?e.outerHTML:(o.appendChild(e),o.innerHTML):11===e.nodeType?(o.appendChild(e),t=o.innerHTML):3===e.nodeType&&(o.appendChild(document.createElement("pre")),o.lastChild.appendChild(e),t=o.innerHTML),t},convertHTMLToDOM:function(e){var t=document.createElement("div"),n=document.createDocumentFragment();t.innerHTML=e,children=t.childNodes.length;for(var o=0;o<children.length;o++)n.appendChild(t.childNodes[o]);return n},selectAllText:function(e){var t=v.getCurrentTextRange();t&&e&&1===e.nodeType&&t.selectNodeContents(e)},getCurrentTextRange:function(e){var t,n=null;return e&&"string"!=typeof e.type&&(t=e.target?e.target:e.srcElement)&&1!==t.nodeType||(document.caretRangeFromPoint&&e&&(-1<e.type.indexOf("mouse")||-1<e.type.indexOf("click"))&&(n=document.caretRangeFromPoint(e.clientX,e.clientY)),window.getSelection?(selection=window.getSelection(),n||(selection.getRangeAt&&0<selection.rangeCount&&(n=selection.getRangeAt(Math.max(0,selection.rangeCount-1))),!n&&document.createRange&&selection.anchorNode&&selection.anchorOffset&&selection.focusNode&&selection.focusOffset&&((n=document.createRange()).setStart(selection.anchorNode,selection.anchorOffset),n.setEnd(selection.focusNode,selection.focusOffset)))):document.selection&&(selection=document.selection,!n&&selection.createRange&&(n=selection.createRange()))),n},setCursorToSelectionAnchorNodeEnd:function(e){var t,n,o=document.selection||window.getSelection();(e&&1===e.nodeType||(e=o.anchorNode.parentNode||null))&&((t=document.createElement("span")).appendChild(document.createTextNode("​")),e.appendChild(t),document.selection?((n=document.body.createTextRange()).moveToElementText(node),n.select()):window.getSelection&&((n=document.createRange()).selectNode(node),o.removeAllRanges(),o.addRange(n)),e.removeChild(t),"function"==typeof e.contains&&e.contains(t))},setRangeAtStartEnd:function(e,t){var n,o;"boolean"!=typeof e&&(e=!1),"function"==typeof document.createRange&&((n=document.createRange()).selectNodeContents(t||this),n.collapse(e),(o=document.selection||window.getSelection()).removeAllRanges(),o.addRange(n))},insertNodeAtCursor:function(e){var t,n,o;if("string"!=typeof e||/\<(?:[>]+)\/?\>/g.test(e)||(e=document.createTextNode(e)),o=3==e.nodeType?e.data:v.convertDOMToHTML(e),window.getSelection){if((t=window.getSelection())&&t.getRangeAt&&0!==t.rangeCount)return void t.getRangeAt(0).insertNode(e)}else if(document.selection&&document.selection.createRange&&(n=document.selection.createRange()).pasteHTML)return void n.pasteHTML(o);"function"==typeof document.queryCommandSupported&&document.queryCommandSupported("insertHTML")&&document.execCommand("insertHTML",!1,o)},insertHtmlAtCursor:function(e){var t,n,o;if(window.getSelection){if((t=window.getSelection()).getRangeAt&&t.rangeCount)return o=(n=window.getSelection().getRangeAt(0)).createContextualFragment(e),void n.insertNode(o)}else if(document.selection&&document.selection.createRange&&(n=document.selection.createRange()).pasteHTML)return void n.pasteHTML(e);"function"==typeof document.queryCommandSupported&&document.queryCommandSupported("insertHTML")&&document.execCommand("insertHTML",!1,e)},getSelectionCursorChoords:function(e,t){var n,o,r,a,i,c={x:0,y:0},l=v.getCurrentTextRange(e);if(window.getSelection){if(!l)return c;if(i||(i=l.cloneRange()),a=i.toString().length,0<i.getClientRects().length?(n=i.getClientRects()[0],c.x=n.left,c.y=n.top):(0<l.endOffset-1&&l.endContainer!==t&&(i.setStart(l.endContainer,l.endOffset-1),i.setEnd(l.endContainer,l.endOffset),n=i.getBoundingClientRect(),c.x=n.left+n.width,c.y=n.top),i.detach()),0===c.x&&0===c.y){var s=document.createElement("span");s.getClientRects&&(o=e&&-1<e.type.indexOf("keydown")?document.createTextNode(String.fromCharCode(e.keyCode)):document.createTextNode("​"),s.appendChild(o),s.className="CURSOR-POS-HACK",l.insertNode(s),0<s.getClientRects().length&&(n=s.getClientRects()[0],c.x=n.left,c.y=n.top,(r=s.parentNode).removeChild(s),"function"==typeof r.contains&&r.contains(s)&&(_temp=t.innerHTML.replace(/<span class=(["'])CURSOR-POS-HACK\1>(?:[^<]*)<\/span>/i,""),t.innerHTML=_temp),r.normalize(),s=null))}}else if(document.selection){if(!l)return c;"Control"!=document.selection.type&&(i=l.duplicate()),a=i.text.length,"function"!=typeof i.getBoundingClientRect?(i.collapse(!0),c.x=l.boundingLeft,c.y=l.boundingTop):(i.moveStart("character",-1),n=i.getBoundingClientRect(),c.x=Math.max(l.boundingLeft,n.left),c.y=Math.max(l.boundingTop,n.top))}return c._caret=a,c},saveSelection:function(e){var t;if(window.getSelection&&document.createRange){var n=window.getSelection().getRangeAt(0),o=n.cloneRange();return o.selectNodeContents(e),o.setEnd(n.startContainer,n.startOffset),{start:t=o.toString().length,end:t+n.toString().length}}if(document.selection&&document.body.createTextRange){var r=document.selection.createRange(),a=document.body.createTextRange();return a.moveToElementText(e),a.setEndPoint("EndToStart",r),{start:t=a.text.length,end:t+r.text.length}}},restoreSelection:function(e,t){if(window.getSelection&&document.createRange){var n=0,o=document.createRange();o.setStart(e,0),o.collapse(!0);for(var r,a=[e],i=!1,c=!1;!c&&(r=a.pop());)if(3===r.nodeType){var l=n+r.length;!i&&t.start>=n&&t.start<=l&&(o.setStart(r,t.start-n),i=!0),i&&t.end>=n&&t.end<=l&&(o.setEnd(r,t.end-n),c=!0),n=l}else for(var s=r.childNodes.length;s--;)a.push(r.childNodes[s]);var u=window.getSelection();u.removeAllRanges(),u.addRange(o)}else if(document.selection&&document.body.createTextRange){var d=document.body.createTextRange();d.moveToElementText(e),d.collapse(!0),d.moveEnd("character",t.end),d.moveStart("character",t.start),d.select()}}},m=v,g={props:{posted:Boolean,author:String,text:String,avatarThumbnail:String}};n(14);function y(e,t,n,o,r,a,i,c){var l,s="function"==typeof e?e.options:e;if(t&&(s.render=t,s.staticRenderFns=n,s._compiled=!0),o&&(s.functional=!0),a&&(s._scopeId="data-v-"+a),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},s._ssrRegister=l):r&&(l=c?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(s.functional){s._injectStyles=l;var u=s.render;s.render=function(e,t){return l.call(t),u(e,t)}}else{var d=s.beforeCreate;s.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:s}}var x={components:{Comment:y(g,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"comment-list-item clearfix variable-width-box",class:{"comment-intermediate":!e.posted}},[n("div",{staticClass:"comment-box-post relative clearfix pull-left"},[n("div",{staticClass:"pull-left left-float"},[n("div",{staticClass:"img link-box margin-r5 comment-image-box"},[n("img",{staticClass:"img thumb-box-small",attrs:{alt:e.author,src:e.avatarThumbnail}})])]),e._v(" "),n("div",{staticClass:"no-pull"},[n("div",{staticClass:"comment-body-box variable-width-box"},[n("div",{staticClass:"relative text-left variable-width-box normalize-height"},[n("span",{staticClass:"line-block-box relative comment-text-block"},[e._v(e._s(e.text))]),e._v(" "),e._m(0)])])])])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("a",{staticClass:"line-block-box absolute snap-top-right text-center",attrs:{href:"javascript:void(0);","data-attachement-download":"true"}},[t("i",{staticClass:"hidden download-icon"},[this._v("⤓")])])}],!1,null,"0c6308fa",null).exports},props:{comments:Array},mounted:function(){m.doesSupportEmoji()||m.replaceAllEmojiInAncestor(this.$ref.clist)}},b=(n(15),y(x,function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"comment-list-row"},[n("ul",{ref:"clist",staticClass:"comment-list"},this._l(this.comments,function(e,t){return n("comment",{key:"comment-"+t,attrs:{author:e.author,text:e.text,posted:e.posted,"avatar-thumbnail":e.avatar_thumbnail}})}),1)])},[],!1,null,"810a4d7a",null).exports),C={name:"Icon",props:{icon:{type:Boolean,default:!0},href:{type:String,required:!0}}},T=(n(16),{components:{CommentBoxIcon:y(C,function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{class:{icon:this.icon}},[t("use",{attrs:{"xlink:href":"#"+this.href}})])},[],!1,null,"0920cf94",null).exports},directives:{editableText:{_savedSelection:null,inserted:function(){},componentUpdated:function(){},bind:function(i){var c=this,e=(i=c.el).parentNode,n="textContent";i.setAttribute("contenteditable",!0),c.onEsc=function(e){27===e.keyCode&&(i[n]=c.initialValue||"",c._set(),i.blur())},c.onBlur=function(e){console.log("blurred! "+e.target.className);var t=document.querySelector("#commentbox-placeholder"),n=e.target.querySelector("#comment-text-area-cursor"),o=n.innerText?n.innerText:n.textContent;n&&o.match(/^(?:[\s]*)$/)&&(t.style.display="block")},c.onPaste=function(e){console.log("pasted!");var t="object"===h()(window.clipboardData)?window.clipboardData.getData("Text"):e.clipboardData.getData("text/plain");t||e.preventDefault(),document.selection&&parseInt(document.documentMode)<=9&&(document.selection.createRange().text+=window.toStaticHTML(t))},i.addEventListener("paste",c.onPaste),i.addEventListener("keyup",this.onEsc),i.addEventListener("blur",this.onBlur),c.onMouseIn=function(e){console.log("cursor probably moved!");var t=e.target.querySelector("#comment-text-area-cursor"),n=(Math.floor((t.offsetHeight+2)/16),t.parentNode.getBoundingClientRect()),o=e.target.querySelector("#comment-text-area-mention-box"),r=m.getSelectionCursorChoords(e,t),a=n.left,i=n.top;0==e.target.innerHTML.length?o.style.top=t.offsetHeight+2+"px":o.style.top=r.y-i-1+16+"px",o.style.left=r.x-a+"px"},c.onKeys=function(e){var t,n,o,r,a,i=e.target.querySelector("#comment-text-area-cursor"),c=(Math.floor((i.offsetHeight+2)/16),i.parentNode.getBoundingClientRect()),l=document.querySelector("#comment-text-area-mention-box"),s=m.getSelectionCursorChoords(e,i),u=c.left,d=c.top;if(0==e.target.innerHTML.length?l.style.top=i.offsetHeight+2+"px":l.style.top=s.y-d-1+16+"px",l.style.left=(8===e.keyCode?s.x-u<7?s.x-u:s.x-u-7:s.x-u+7)+"px",n=m.getCurrentTextRange(),8===e.keyCode)if(!document.documentMode||9<=document.documentMode){if(!t||!t.isCollapsed||!t.rangeCount)return;if(n&&3===n.commonAncestorContainer.nodeType&&0<n.startOffset)return}else if(!t.collapsed)return;return 8===e.keyCode&&s.x-u==0&&s.y-d==0?(console.log("backspace limit reached!!!"),e.preventDefault(),!1):(39!==e.keyCode&&40!==e.keyCode||(e.target.innerText.match(/^(?:[\s]*)$/)?e.preventDefault():s.x-u<i.parentNode.offsetWidth&&e.preventDefault()),13===e.keyCode&&window.getSelection?(e.preventDefault(),e.stopPropagation(),o=document.createElement("br"),t=window.getSelection(),"oscpu"in navigator||!0==={}.hasOwnProperty.call(navigator,"oscpu")?o.setAttribute("data-mozdirty","true"):"opera"in window&&"[object opera]"==={}.toString.call(window.opera).toLowerCase()?o.setAttribute("data-presto-hack","true"):o.className="--WEBKIT-BR-HACK",n.deleteContents(),n.insertNode(o),"opera"in window&&"function"==typeof window.opera.version?(t.anchorOffset,(r=n.cloneRange()).selectNodeContents(i),r.setEnd(n.endContainer,n.endOffset),r.toString().length,n=document.createRange(),t.anchorNode!==this&&((a=document.createElement("span")).appendChild(document.createTextNode("​")),i.appendChild(a),n.selectNode(a)),n.setStartAfter(a),n.setEndAfter(a)):((n=document.createRange()).selectNodeContents(i),n.collapse(!1)),t.removeAllRanges(),t.addRange(n),a&&i.removeChild(a),!1):void 0)},e.addEventListener("mousedown",this.onMouseIn),i.addEventListener("keydown",this.onKeys),c.onFocus=function(e){c.initialValue=i[n],console.log("focused! "+e.target.className);var t=document.querySelector("#commentbox-placeholder");e.target.querySelector("#comment-text-area-cursor");"block"==window.getComputedStyle(t,"").getPropertyValue("display")&&(t.style.display="none")},c.onCut=function(e){console.log("deleted!");var t=e.target.querySelector("#comment-text-area-cursor");-1<t.innerHTML.search(/<br data-text="true">(?:&nbsp;|\s*)$/)&&(t.innerHTML=t.innerHTML.replace(/<br data-text="true">(?:&nbsp;|\s*)$/,'<br data-text="true">'))},i.addEventListener("focus",this.onFocus),i.addEventListener("cut",this.onCut),c.clearClick=function(e){console.log("cleared!");var t=e.target.parentNode.querySelector("#comment-text-area-cursor"),n=e.target.parentNode.querySelector("#comment-text-area-wrapper"),o=e.target.parentNode.querySelector("#comment-text-area-mention-box");o.style.left="0px",o.style.top="16px",t.innerHTML='<br data-text="true">',n.focus(),n.blur()},i.querySelector("#comment-clear").addEventListener("click",c.clearClick),c.onInput=function(e){console.log("inserted!");var t,n=e.target.querySelector("#comment-text-area-cursor"),o=[].slice.call(n.childNodes),r=document.querySelector("#add_comment_text");(t=n.innerHTML.match(/(<|%3C)script .*?(>|%3E)([\w\s\S]+)(\1)\/script(\2)/))&&(n.innerHTML=n.innerHTML.substring(t.index,t[0].length));for(var a=0;a<o.length;a++)if(1==o[a].nodeType){if(!o[a].nodeName.match(/A|BR|B|I|IMG/i)){if("SPAN"==o[a].nodeName&&o[a].className.match(/--IE-BR-HACK|CURSOR-POS-HACK/g))continue;o[a].innerHTML.replace(/(?:<.*?>|<\/.*>)/gi,""),n.removeChild(o[a])}}else 3==o[a].nodeType&&"#text"==o[a].nodeName&&""==o[a].nodeValue&&n.removeChild(o[a]);r.value=n.innerHTML,this._savedSelection=m.saveSelection(i),c._set()},!document.documentMode||document.documentMode<9?i.addEventListener("input",c.onInput):i.addEventListener("textinput",c.onInput)},_set:function(){this.vm.$set(this.key,this.el[attrToChange])},update:function(e,t){if(t&&void 0===e)return this._set();this.el[attrToChange]="string"!=typeof e?"":e,this._savedSelection&&m.restoreSelection(this.el,this._savedSelection)},unbind:function(){var e=this.el;e.removeEventListener("input",this.onInput),e.removeEventListener("keyup",this.onEsc),e.removeEventListener("keydown",this.onEnter),e.removeEventListener("focus",this.onFocus)}}},props:{textPlaceholder:{type:String,required:!0},cAuthor:String,cAvatarThumb:String},data:function(){return{text:""}},methods:{onClick:function(e){var t=this.text.trim();""!==t&&(this.vm.$emit("send",{event:e,text:m.textRangeToHTML()||t}),this.text="")},onFileAttach:function(e){console.log(e.target.files)},onLinkCreate:function(){var e=window.prompt("Enter the web address for the link","");""!==e&&m.insertNodeAtCursor(m.convertDOMToHTML('<a class="link-text" href="'+e+'">'+e+"</a>"))},onEmojiSelect:function(e){var t=m.createEmojiAsImageFromName(e.target.attributes.getNamedItem("data-emoji-name"));m.insertNodeAtCursor(t)}}}),S=(n(17),y(T,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-row"},[n("div",{staticClass:"comment-box-mention comment-box-sticker-enabled relative clearfix",attrs:{direction:"left"}},[n("div",{staticClass:"pull-left left-float"},[n("div",{staticClass:"img link-box margin-l5 comment-image-box"},[n("img",{staticClass:"img thumb-box-small",attrs:{alt:t.cAuthor,src:t.cAvatarThumb}})])]),t._v(" "),n("div",{staticClass:"no-pull"},[n("div",{staticClass:"comment-body-box variable-width-box"},[n("div",{staticClass:"comment-body-container"},[n("div",{staticClass:"comment-body-input-container"},[n("div",{staticClass:"relative"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"screened hidden",attrs:{id:"add_comment_text",name:"add_comment_text",tabindex:"-1"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._v(" "),n("div",{staticClass:"comment-body-input block-box comment-body-input-context"},[n("div",{staticClass:"comment-body-input-control",attrs:{tabindex:"-2"}},[n("div",{staticClass:"relative block-box"},[n("div",{staticClass:"comment-input-control-placeholder-wrapper absolute"},[n("div",{staticClass:"comment-input-control-placeholder",attrs:{id:"commentbox-placeholder"},domProps:{textContent:t._s(t.textPlaceholder)}})]),t._v(" "),n("div",{staticClass:"relative",attrs:{id:"comment-border","data-contents-box":"true",contenteditable:"false"}},[n("div",{directives:[{name:"editable-text",rawName:"v-editable-text"}],staticClass:"comment-text-area-wrapper",attrs:{id:"comment-text-area-wrapper","aria-describedby":"commentbox-placeholder","aria-expanded":"false","aria-haspopup":"false","aria-hasdropdown":"true",autocorrect:"off",autocomplete:"off",spellcheck:"true",role:"commentbox"}},[t._m(0)])]),t._v(" "),n("div",{staticClass:"absolute",attrs:{id:"comment-text-area-mention-box"}},[t._t("default")],2)])])]),t._v(" "),n("a",{staticClass:"line-block-box absolute snap-top-right text-center comment-clear",attrs:{id:"comment-clear",href:"javascript:void(0);",title:"Clear comment"}},[t._v("\n                ×\n              ")])]),t._v(" "),n("div",{staticClass:"text-right"},[n("div",{staticClass:"line-block-box clearfix relative comment-taskbar",attrs:{id:"comment-taskbar"}},[n("a",{staticClass:"line-block-box pull-left relative comment-icon comment-icon-file",attrs:{href:"javascript:void(0);",title:"Attach a File, Photo or Video","data-hover":"tooltip","data-tooltip":"#attach-file"}},[n("input",{ref:"attachment",staticClass:"hidden",attrs:{type:"file",value:"",accept:"video/x-m4v, video/webm, video/x-ms-wmv, video/x-msvideo, video/3gpp, video/flv, video/x-flv, video/mp4, video/quicktime, video/mpeg, video/ogv, image/png, image/jpg, image/jpeg, image/gif, application/pdf, application/zip",name:"file"}}),t._v(" "),n("icon",{attrs:{href:"attachment"}})],1),t._v(" "),n("a",{staticClass:"line-block-box pull-left relative comment-icon comment-icon-link",attrs:{href:"javascript:void(0);",title:"Insert a Link","data-hover":"tooltip","data-tooltip":"#attach-link"}},[n("input",{staticClass:"hidden",attrs:{type:"hidden",name:"links",value:"{}"}}),t._v(" "),n("icon",{attrs:{href:"link"}})],1),t._v(" "),n("a",{staticClass:"line-block-box pull-left relative comment-icon comment-icon-emoji",attrs:{href:"javascript:void(0);",title:"Insert an Emoji","data-hover":"tooltip","data-tooltip":"#attach-emoji"}},[n("input",{staticClass:"hidden",attrs:{type:"hidden",name:"emojis",value:"{'happy-surprised':'em-svg em-1f604', 'sad':'em-svg em-1f6', 'angry':'em-svg em-1f620', 'victory-hand':'em-svg em-270C'}"}}),t._v(" "),n("icon",{attrs:{href:"emoji"}})],1),t._v(" "),n("span",{staticClass:"line-block-box pull-left comment-button text-center",attrs:{id:"send","data-hover":"tooltip",title:"Send in your comment"},on:{click:t.onClick}},[n("a",{staticClass:"line-block-box comment-button-text",attrs:{tabindex:"0",href:"javascript:void(0);"}},[t._v("OK")])])])])])])])])]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"comment-text-area",attrs:{"data-contents":"true"}},[t("div",{attrs:{"data-block":"true","data-editor":"comment-text-area"}},[t("div",{staticClass:"relative",attrs:{id:"comment-text-area-strip","data-offset-width":"1"}},[t("span",{attrs:{id:"comment-text-area-cursor","data-offset-key":"xy-0-0"}},[t("br",{attrs:{"data-text":"true"}})])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"absolute",attrs:{id:"attach-file",role:"dropup-menu","aria-target":"[]"}},[t("span",{attrs:{role:"arrow"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"absolute",attrs:{id:"attach-link",role:"dropup-menu","aria-target":"[]"}},[t("span",{attrs:{role:"arrow"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"absolute",attrs:{id:"attach-emoji",role:"dropup-menu","aria-target":"[]"}},[t("span",{attrs:{role:"arrow"}})])}],!1,null,"6a39d586",null).exports),_=void 0,E={name:"CommentBox",components:{CommentList:b,CommentInput:S},props:{iconFillColor:{type:String,required:!0,default:"aaeced"},inputPlaceholderText:{type:String,required:!0,default:"Start typing..."},contextAuthor:String,contextAvatarThumb:String,boxAction:{type:String,required:!0,default:"".concat(window.location.origin,"/comments/send")},useXhr:{type:Boolean,required:!0,default:!0},comments:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{currentCommentIndex:-1,currentCommentText:"",currentComment:null}},events:{beforesend:function(){},"new-comment-save":function(e){_.comments[_.currentCommentIndex]=e,_.currentComment=null,_.currentCommentIndex=-1,_.currentCommentText=""}},methods:{validate:function(){},createResponseCallback:function(t){var n=this;return t.avatar_thumbnail=this.conetxtAvatarThumb,t.author=this.contextAuthor,this.currentComment=t,this.comments.push(this.currentComment),this.currentCommentIndex=this.comments.length-1,function(e){"success"===e.status&&(t.posted=!0)===e.bodySafe&&(t.text=n.currentCommentText),n.$emit("new-comment-save",t)}}},onFormSend:function(e){this.validate(),this.currentCommentText=e.text,this.$emit("beforesend",[this.$refs.form]);var t=u.sendHttpRequest(this.$refs.form,this.useXhr);null!==t&&t.then(this.createResponseCallback({text:"Posting...",posted:!1}))}},k=(n(18),y(E,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"comment-box"},[n("h6",[e._v("Replies")]),e._v(" "),n("form",{ref:"form",staticClass:"comment-form",attrs:{method:"POST",action:e.boxAction,enctype:"multipart/form-data",target:"comment-box-sink"},on:{reset:function(e){e.preventDefault()}}},[n("fieldset",{staticClass:"comment-box-wrapper"},[n("comment-list",{attrs:{comments:e.comments}}),e._v(" "),n("comment-input",{attrs:{"text-placeholder":e.inputPlaceholderText,"c-author":e.contextAuthor,"c-avatar-thumb":e.contextAvatarThumb},on:{send:e.onFormSend}})],1),e._v(" "),n("iframe",{staticClass:"absolute",attrs:{id:"comment-box-sink",src:"about:blank",name:"comment-box-sink",marginheight:"0",marginwidth:"0",scrolling:"no",height:"0",width:"0",allowtransperency:"true",frameborder:"0"}})]),e._v(" "),n("svg",{staticStyle:{display:"none"},attrs:{xmlns:"http://www.w3.org/2000/svg"}},[n("symbol",{attrs:{id:"link",viewBox:"0 0 18 18"}},[n("path",{attrs:{fill:"#"+e.iconFillColor,d:"M6.879 9.934c-0.208 0-0.416-0.079-0.575-0.238-1.486-1.486-1.486-3.905 0-5.392l3-3c0.72-0.72 1.678-1.117 2.696-1.117s1.976 0.397 2.696 1.117c1.486 1.487 1.486 3.905 0 5.392l-1.371 1.371c-0.317 0.317-0.832 0.317-1.149 0s-0.317-0.832 0-1.149l1.371-1.371c0.853-0.853 0.853-2.241 0-3.094-0.413-0.413-0.963-0.641-1.547-0.641s-1.134 0.228-1.547 0.641l-3 3c-0.853 0.853-0.853 2.241 0 3.094 0.317 0.317 0.317 0.832 0 1.149-0.159 0.159-0.367 0.238-0.575 0.238z"}}),e._v(" "),n("path",{attrs:{fill:"#"+e.iconFillColor,d:"M4 15.813c-1.018 0-1.976-0.397-2.696-1.117-1.486-1.486-1.486-3.905 0-5.392l1.371-1.371c0.317-0.317 0.832-0.317 1.149 0s0.317 0.832 0 1.149l-1.371 1.371c-0.853 0.853-0.853 2.241 0 3.094 0.413 0.413 0.962 0.641 1.547 0.641s1.134-0.228 1.547-0.641l3-3c0.853-0.853 0.853-2.241 0-3.094-0.317-0.317-0.317-0.832 0-1.149s0.832-0.317 1.149 0c1.486 1.486 1.486 3.905 0 5.392l-3 3c-0.72 0.72-1.678 1.117-2.696 1.117z"}})]),e._v(" "),n("symbol",{attrs:{id:"attachment",viewBox:"0 0 18 18"}},[n("path",{attrs:{fill:"#"+e.iconFillColor,d:"M10.404 5.11l-1.015-1.014-5.075 5.074c-0.841 0.841-0.841 2.204 0 3.044s2.204 0.841 3.045 0l6.090-6.089c1.402-1.401 1.402-3.673 0-5.074s-3.674-1.402-5.075 0l-6.394 6.393c-0.005 0.005-0.010 0.009-0.014 0.013-1.955 1.955-1.955 5.123 0 7.077s5.123 1.954 7.078 0c0.004-0.004 0.008-0.009 0.013-0.014l0.001 0.001 4.365-4.364-1.015-1.014-4.365 4.363c-0.005 0.004-0.009 0.009-0.013 0.013-1.392 1.392-3.656 1.392-5.048 0s-1.392-3.655 0-5.047c0.005-0.005 0.009-0.009 0.014-0.013l-0.001-0.001 6.395-6.393c0.839-0.84 2.205-0.84 3.045 0s0.839 2.205 0 3.044l-6.090 6.089c-0.28 0.28-0.735 0.28-1.015 0s-0.28-0.735 0-1.014l5.075-5.075z"}})]),e._v(" "),n("symbol",{attrs:{id:"emoji",viewBox:"0 0 18 18"}},[n("path",{attrs:{fill:"#"+e.iconFillColor,d:"M8 16c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8zM8 1.5c3.59 0 6.5 2.91 6.5 6.5s-2.91 6.5-6.5 6.5-6.5-2.91-6.5-6.5 2.91-6.5 6.5-6.5zM4 5c0-0.552 0.448-1 1-1s1 0.448 1 1c0 0.552-0.448 1-1 1s-1-0.448-1-1zM10 5c0-0.552 0.448-1 1-1s1 0.448 1 1c0 0.552-0.448 1-1 1s-1-0.448-1-1zM11.002 9.801l1.286 0.772c-0.874 1.454-2.467 2.427-4.288 2.427s-3.413-0.973-4.288-2.427l1.286-0.772c0.612 1.018 1.727 1.699 3.002 1.699s2.389-0.681 3.002-1.699z"}})])])])},[],!1,null,null,null).exports);n.d(t,"CommentBoxPlugin",function(){return L}),n.d(t,"CommentBox",function(){return k});var L={install:function(e){this.install.installed||e.component(k.name,k)}};"undefined"!=typeof window&&window.Vue&&L.install(window.Vue)}],r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=19);function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var n,o});